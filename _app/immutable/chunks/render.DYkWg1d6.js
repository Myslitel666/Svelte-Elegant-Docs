import{t as R,a1 as D,a2 as O,C as V,a3 as M,a4 as b,a5 as W,a6 as B,a7 as C,a8 as m,J as E,I as N,F as H,N as p,a9 as Y,aa as q,ab as z,ac as P,ad as $,ae as F,L as G,p as J,E as T,z as U,f as j,c as K}from"./runtime.Da3H4BDx.js";import{b as Q}from"./disclose-version.C3l25RE7.js";const k=new Set,L=new Set;function X(t,e,a,i){function n(r){if(i.capture||y.call(e,r),!r.cancelBubble)return a.call(this,r)}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?D(()=>{e.addEventListener(t,n,i)}):e.addEventListener(t,n,i),n}function ot(t,e,a,i,n){var r={capture:i,passive:n},u=X(t,e,a,r);(e===document.body||e===window||e===document)&&R(()=>{e.removeEventListener(t,u,r)})}function st(t){for(var e=0;e<t.length;e++)k.add(t[e]);for(var a of L)a(t)}function y(t){var A;var e=this,a=e.ownerDocument,i=t.type,n=((A=t.composedPath)==null?void 0:A.call(t))||[],r=n[0]||t.target,u=0,f=t.__root;if(f){var d=n.indexOf(f);if(d!==-1&&(e===document||e===window)){t.__root=e;return}var l=n.indexOf(e);if(l===-1)return;d<=l&&(u=d)}if(r=n[u]||t.target,r!==e){O(t,"currentTarget",{configurable:!0,get(){return r||a}});try{for(var _,o=[];r!==null;){var c=r.assignedSlot||r.parentNode||r.host||null;try{var s=r["__"+i];if(s!==void 0&&!r.disabled)if(V(s)){var[g,...w]=s;g.apply(r,[t,...w])}else s.call(r,t)}catch(v){_?o.push(v):_=v}if(t.cancelBubble||c===e||c===null)break;r=c}if(_){for(let v of o)queueMicrotask(()=>{throw v});throw _}}finally{t.__root=e,delete t.currentTarget}}}function it(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Z=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ut(t){return Z.includes(t)}const x={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function ct(t){return t=t.toLowerCase(),x[t]??t}const tt=["wheel","mousewheel","touchstart","touchmove"];function et(t){return tt.includes(t)}function dt(t,e){e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e==null?"":e+"")}function rt(t,e){const a=e.anchor??e.target.appendChild(M());return I(t,{...e,anchor:a})}function lt(t,e){b(),e.intro=e.intro??!1;const a=e.target,i=T,n=p;try{for(var r=W(a);r&&(r.nodeType!==8||r.data!==B);)r=C(r);if(!r)throw m;E(!0),N(r),H();const u=I(t,{...e,anchor:r});if(p===null||p.nodeType!==8||p.data!==Y)throw q(),m;return E(!1),u}catch(u){if(u===m)return e.recover===!1&&z(),b(),P(a),E(!1),rt(t,e);throw u}finally{E(i),N(n)}}const h=new Map;function I(t,{target:e,anchor:a,props:i={},events:n,context:r,intro:u=!0}){b();var f=new Set,d=o=>{for(var c=0;c<o.length;c++){var s=o[c];if(!f.has(s)){f.add(s);var g=et(s);e.addEventListener(s,y,{passive:g});var w=h.get(s);w===void 0?(document.addEventListener(s,y,{passive:g}),h.set(s,1)):h.set(s,w+1)}}};d($(k)),L.add(d);var l=void 0,_=F(()=>(G(()=>{if(r){J({});var o=K;o.c=r}n&&(i.$$events=n),T&&Q(a,null),l=t(a,i)||{},T&&(U.nodes_end=p),r&&j()}),()=>{for(var o of f){e.removeEventListener(o,y);var c=h.get(o);--c===0?(document.removeEventListener(o,y),h.delete(o)):h.set(o,c)}L.delete(d),S.delete(l)}));return S.set(l,_),l}let S=new WeakMap;function ft(t){const e=S.get(t);e&&e()}export{ut as a,X as c,st as d,ot as e,lt as h,it as i,rt as m,ct as n,dt as s,ft as u};
